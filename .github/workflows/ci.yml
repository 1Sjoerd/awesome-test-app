name: CI

on:
  push:
    branches: [ main, master ]
  pull_request:
    branches: [ main, master ]
  workflow_dispatch: # Enables manual triggering

jobs:
  check-files:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v3
      
    - name: Echo success
      run: echo "CI workflow is working! âœ…"
      
    - name: Check files
      run: ls -la

  print-info:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v3
      
    - name: Print date
      run: date
      
    - name: Print environment
      run: echo "Running on $RUNNER_OS"

  deploy:
    runs-on: ubuntu-latest
    if: github.event_name == 'workflow_dispatch' # Only runs when manually triggered
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v3
      
    - name: Start deployment
      run: echo "ðŸš€ Starting deployment..."
      
    - name: Simulate deployment
      run: |
        echo "Deploying to production..."
        sleep 2
        echo "Deployment completed! âœ…"